"use strict";var base_href=$("base").attr("href"),userAgent=window.navigator.userAgent.toLowerCase();function c(e){0==e?(bgm1.muted=!0,bgm2.muted=!0,bgm4.muted=!0,document.getElementById("volumetext").textContent="Volume:ミュート"):(bgm1.muted=!1,bgm2.muted=!1,bgm4.muted=!1,bgm1.volume=Math.ceil(e)/100,bgm2.volume=Math.ceil(e)/100,bgm4.volume=Math.ceil(e)/100,document.getElementById("volumetext").textContent=`Volume: ${e} %`)}function mouseover(){document.getElementById("area1").style.opacity="1"}function mouseout(){document.getElementById("area1").style.opacity="0"}function s(){localStorage.test=0,document.getElementById("test").textContent=`BESTLEVEL: ${localStorage.test}`}function f(){localStorage.setItem("zisseki1","0"),localStorage.setItem("zisseki2","0"),localStorage.setItem("zisseki3","0"),zisseki1.textContent="未達成",zisseki2.textContent="未達成",zisseki3.textContent="未達成"}-1!=userAgent.indexOf("msie")||-1!=userAgent.indexOf("trident")?(window.location.href=base_href+"IE互換用/数字割りゲーム.IE.html",document.getElementById("use").textContent="使っているブラウザ：Internet Explorerをお使いですね 動作を保証しません"):-1!=userAgent.indexOf("edge")||-1!=userAgent.indexOf("edg")?document.getElementById("use").textContent="使っているブラウザ：Edgeをお使いですね 動作確認しているブラウザです":-1!=userAgent.indexOf("opr")?document.getElementById("use").textContent="使っているブラウザ：Operaをお使いですね 動作確認はしていませんが 使用上動くはずのブラウザです":-1!=userAgent.indexOf("chrome")?document.getElementById("use").textContent="使っているブラウザ：ChromeまたはVivaldiをお使いですね 動作確認しているブラウザです":-1!=userAgent.indexOf("safari")?document.getElementById("use").textContent="使っているブラウザ：Safariをお使いですね 動作確認はしていませんが 使用上動くはずのブラウザです":-1!=userAgent.indexOf("firefox")?document.getElementById("use").textContent="使っているブラウザ：FireFoxをお使いですね 動作確認しているブラウザです":document.getElementById("use").textContent="使っているブラウザ：動作未確認のブラウザをお使いですね 動作は保証されません",$(".table b").on("click",function(){$(this).next().next().toggleClass("hidden")}),jQuery(function(){var e=!1,t=$("#page_top");$(window).scroll(function(){$(this).scrollTop()>150?0==e&&(e=!0,t.stop().animate({bottom:"10px"},300)):e&&(e=!1,t.stop().animate({bottom:"-50px"},300))}),t.click(function(){return $("body, html").animate({scrollTop:0},250),!1})}),window.onload=function(){document.body.oncontextmenu=function(){return!1},document.getElementById("timer_sec").textContent=2e3;timer_sec.textContent;document.getElementById("area1").style.opacity="0",document.getElementById("debugmodes1").style.visibility="hidden",document.getElementById("p1").style.display="block",debugmodetext.style.display="none",document.getElementById("debugmodes2").style.display="none",document.getElementById("debugmodes3").style.display="block",document.getElementById("reset").style.display="none",document.getElementById("debugmode").textContent="nomalmode",document.getElementById("list").style.visibility="hidden",document.getElementById("started").textContent=0,document.getElementById("clearmode").textContent="notclear",document.getElementById("cleartime").textContent="+0.00",cleartime.style.opacity=0,document.getElementById("humans_number").textContent=5,localStorage.HERD=0,color(),document.getElementById("zisseki1").textContent="未設定",document.getElementById("zisseki2").textContent="未設定",document.getElementById("zisseki3").textContent="未設定",localStorage.test<=99?document.getElementById("test").textContent=`BESTLEVEL: ${localStorage.test}`:document.getElementById("test").textContent="BESTLEVEL:+99",document.getElementById("zanki").textContent=0,document.getElementById("loading").classList.add("loaded"),document.getElementById("volume").addEventListener("input",()=>{var e=document.getElementById("volume").value;c(e),localStorage.Volume=e})},void 0===localStorage.test&&localStorage.setItem("test",1),void 0===localStorage.zisseki1&&localStorage.setItem("zisseki1",0),void 0===localStorage.zisseki2&&localStorage.setItem("zisseki2",0),void 0===localStorage.zisseki3&&localStorage.setItem("zisseki3",0),void 0===localStorage.HERD&&localStorage.setItem("HERD",0),void 0===localStorage.Play?localStorage.setItem("Play",0):0==localStorage.Play?herd.disabled=!0:herd.disabled=!1,void 0===localStorage.Volume&&localStorage.setItem("Volume",50);const btn=document.querySelector("#p1"),bgm1=new Audio("dont touch/buzzer.mp3"),bgm2=new Audio("dont touch/Answer.mp3"),bgm4=new Audio("BGM.mp3");bgm1.volume=1,bgm2.volume=1,bgm4.volume=1,btn.addEventListener("click",()=>{bgm4.play()}),bgm1.addEventListener("ended",()=>{bgm1.pause(),bgm1.currentTime=0}),bgm2.addEventListener("ended",()=>{bgm2.pause(),bgm2.currentTime=0}),bgm4.addEventListener("ended",()=>{bgm4.pause(),bgm4.currentTime=0,bgm4.play()});try{document.getElementById("volume").value=localStorage.Volume,c(localStorage.Volume)}catch(e){localStorage.Volume=document.getElementById("volume").value,c(localStorage.Volume),document.getElementById("volumetext").textContent="Volume:50%"}function debug(){document.getElementById("timer_sec").textContent=100*+example1.value,document.getElementById("humans_number").textContent=+example2.value}function p2(){korokke.textContent="??",document.getElementById("time").textContent="0.20.0",number_number.textContent=1,humans_number.textContent=3,location.reload()}function g(){buttonid1.style.backgroundColor="#333",buttonid2.style.backgroundColor="#333",buttonid3.style.backgroundColor="#333",buttonid4.style.backgroundColor="#333",buttonid5.style.backgroundColor="#333",p1.style.backgroundColor="#333",reset.style.backgroundColor="#333"}function keypress_ivent(e){if(1==started.textContent&&("KeyW"===e.code&&(e.preventDefault(),g(),buttonid1.style.backgroundColor="#999",a(2)),"KeyE"===e.code&&(e.preventDefault(),g(),buttonid2.style.backgroundColor="#999",a(3)),"KeyA"===e.code&&(e.preventDefault(),g(),buttonid3.style.backgroundColor="#999",a(5)),"KeyS"===e.code&&(e.preventDefault(),g(),buttonid4.style.backgroundColor="#999",a(7)),"KeyD"===e.code&&(e.preventDefault(),g(),buttonid5.style.backgroundColor="#999",a(11)),"KeyM"===e.code&&(e.preventDefault(),0==bgm1.muted?(bgm1.muted=!0,bgm2.muted=!0,bgm4.muted=!0,document.getElementById("volumetext").textContent="Volume:ミュート",document.getElementById("volume").value=0):(bgm1.muted=!1,bgm2.muted=!1,bgm4.muted=!1,document.getElementById("volumetext").textContent="Volume:50%",document.getElementById("volume").value=50),localStorage.Volume=document.getElementById("volume").value),"ArrowUp"!==e.code&&"ArrowRight"!==e.code||(bgm1.muted=!1,bgm2.muted=!1,bgm4.muted=!1,document.getElementById("volume").value++,document.getElementById("volume").value>100&&(document.getElementById("volume").value=100),document.getElementById("volumetext").textContent=`Volume: ${volume.value}%`,bgm1.volume=Math.ceil(volume.value)/100,bgm2.volume=Math.ceil(volume.value)/100,bgm4.volume=Math.ceil(volume.value)/100,event.preventDefault()),"ArrowDown"!==e.code&&"ArrowLeft"!==e.code||(bgm1.muted=!1,bgm2.muted=!1,bgm4.muted=!1,document.getElementById("volume").value--,volume.value<1?(bgm1.muted=!0,bgm2.muted=!0,bgm4.muted=!0,document.getElementById("volumetext").textContent="Volume:ミュート",document.getElementById("volume").value=0):(document.getElementById("volumetext").textContent=`Volume: ${volume.value}%`,bgm1.volume=Math.ceil(volume.value)/100,bgm2.volume=Math.ceil(volume.value)/100,bgm4.volume=Math.ceil(volume.value)/100),localStorage.Volume=document.getElementById("volume").value,event.preventDefault()),event.ctrlKey&&event.altKey&&"KeyB"==e.code)){if("nomalmode"==debugmode.textContent){null!=(t=prompt("1つ目のパスワードを入力して下さい。",""))&&(n=prompt("入力完了\n2つ目のパスワードを入力して下さい。","")),document.body.oncontextmenu=function(){return!0}}else{var t=String.fromCharCode(75,111,114,111,107,107,101,51,52,55),n=String.fromCharCode(107,97,50,51,49,54,54);document.body.oncontextmenu=function(){return!1}}if(t==String.fromCharCode(75,111,114,111,107,107,101,51,52,55)&&n==String.fromCharCode(107,97,50,51,49,54,54)){e.preventDefault(),1==localStorage.zisseki1?zisseki1.textContent="クリア":zisseki1.textContent="未達成",1==localStorage.zisseki2?zisseki2.textContent="クリア":zisseki2.textContent="未達成",1==localStorage.zisseki3?zisseki3.textContent="クリア":zisseki3.textContent="未達成","nomalmode"==debugmode.textContent?document.getElementById("debugmode").textContent="debugmode":document.getElementById("debugmode").textContent="nomalmode","visible"==document.getElementById("debugmodes1").style.visibility?document.getElementById("debugmodes1").style.visibility="hidden":document.getElementById("debugmodes1").style.visibility="visible","visible"==document.getElementById("list").style.visibility?document.getElementById("list").style.visibility="hidden":document.getElementById("list").style.visibility="visible";const t=document.getElementById("debugmodetext");"block"==t.style.display?t.style.display="none":t.style.display="block";const n=document.getElementById("debugmodes2");"block"==n.style.display?n.style.display="none":n.style.display="block";const o=document.getElementById("debugmodes3");"block"==o.style.display?o.style.display="none":o.style.display="block"}else null!==t&&null!==n?alert("1 or 2 password is incorrect"):alert("1 or 2 password is not null")}return"Space"===e.code&&(event.preventDefault(),0==started.textContent?(bgm4.play(),start(timer_sec.textContent),event.preventDefault()):(p2(),event.preventDefault())),!1}function start(e){if(herd.checked){humans_number.style.color="red",document.getElementById("timer_sec").textContent=1e3;e=timer_sec.textContent;document.getElementById("humans_number").textContent=2,document.getElementById("humans_max").textContent=3,localStorage.HERD=1,herd.disabled=!0}else localStorage.HERD=0,herd.disabled=!0,document.getElementById("humans_max").textContent=humans_number.textContent;color(),0==localStorage.zisseki1&&(localStorage.zisseki1=1),started.textContent=1;const t=document.getElementById("p1");"block"==t.style.display?t.style.display="none":t.style.display="block";const n=document.getElementById("reset");"none"==n.style.display?n.style.display="block":n.style.display="none",timmer(e),kihonn(1)}function kihonn(e){var t=[],n=0,o=0,l=0,m=0,a=0;const u=[2,3,5,7,11];var d=1;document.getElementById("number_number").textContent=e,e>=50&&(e=50),e=Math.floor(e/3)+1;for(var r=0;r<e;r++){var s=Math.floor(5*Math.random());d*=u[s],t[r]=s}for(var c=0;c<t.length;c++)0==t[c]?n++:1==t[c]?o++:2==t[c]?l++:3==t[c]?m++:4==t[c]&&a++;var i=`(2^${n})*(3^${o})*(5^${l})*(7^${m})*(11^${a})`;document.getElementById("lists").textContent=`${d} = ${i}`,document.getElementById("list").textContent=`${d}  = ${i}`,document.getElementById("korokke").textContent=d}function timmer(e){e=Number(document.getElementById("timer_sec").textContent);var t=document.getElementById("time");if(1==localStorage.HERD)var n=40;else n=80;var o=setInterval(function(){(t.innerHTML=Math.floor(e/6e3),t.innerHTML+=".",e%6e3<1e3&&(t.innerHTML+=0),t.innerHTML+=Math.floor(e%6e3/100),t.innerHTML+=".",e%100<10&&(t.innerHTML+=0),t.innerHTML+=e%100,e<0)&&(humans_number.textContent>1?(humans_number.textContent--,color(),document.getElementById("zanki").textContent=3,e=1e3):number_number.textContent>Number(localStorage.test)&&(future2(),clearInterval(o)));if(e--,document.getElementById("timer_sec").textContent=e,e>12e4?(0==localStorage.zisseki2&&(localStorage.zisseki2=1),t.className="god",korokke.className="god",remainingtime.className="god"):e>1599&&e<=12e3?(t.className="white",korokke.className="white",remainingtime.className="white"):e<=1599&&e>1299?(korokke.className="blue",t.className="blue",remainingtime.className="blue"):e<=1299&&e>999?(korokke.className="aqua",t.className="aqua",remainingtime.className="aqua"):e<=999&&e>699?(korokke.className="lime",t.className="lime",remainingtime.className="lime"):e<=699&&e>399?(korokke.className="yellow",t.className="yellow",remainingtime.className="yellow"):e<=399&&(korokke.className="red",t.className="red",remainingtime.className="red"),"debugmode"==debugmode.textContent){var n=Lank(10*number_number.textContent+Math.floor(.004*timer_sec.textContent)+10*humans_number.textContent,0);document.getElementById("mozi").textContent=`Lank: ${n}`}return e},10);setInterval(function(){"clear"==clearmode.textContent&&(e+=Math.floor(number_number.textContent*n*Math.pow(10,2))/Math.pow(10,2),document.getElementById("timer_sec").textContent=e,document.getElementById("clearmode").textContent="notclear",cleartime.style.opacity=1,cleartime.textContent="+"+Math.floor(number_number.textContent*n/100*Math.pow(10,2))/Math.pow(10,2),"undefined"!=typeof toumei&&clearInterval(toumei),setTimeout(function(){setTimeout(function(){clearInterval(e),cleartime.textContent="+0.00",cleartime.style.opacity=0},1e3);var e=setInterval(function(){cleartime.style.opacity=cleartime.style.opacity-.005},1)},500))},20)}function a(e){if(1==started.textContent){var t=document.getElementById("zanki").textContent,n=document.getElementById("number_number").textContent,o=korokke.textContent/e;if(document.getElementById("Suuzicopy").textContent=korokke.textContent,document.getElementById("korokke").textContent=o,1==localStorage.HERD){var l=6,m=3;document.getElementById("humans_max").textContent=m}else l=2,m=Number(document.getElementById("humans_max").textContent);var a=1e3*n+Math.floor(.04*timer_sec.textContent)+1e3*humans_number.textContent;if(document.getElementById("Score").textContent=a<=9999999?`Score:${a}`:"Score:+9999999",1==o)n++,color(),bgm2.play(),document.getElementById("clearmode").textContent="clear",10==n&&3==humans_number.textContent&&0==localStorage.zisseki3&&(localStorage.zisseki3=1),t>1?(t--,human.textContent=`残り:${t}turn`):1==t?(t=0,humans_number.textContent++,color(),humans_number.textContent<m?(t=l,human.textContent=`残り:${t}turn`):human.textContent=""):humans_number.textContent<m&&(t=l--,human.textContent=`残り:${t}turn`),kihonn(n);else if(!Number.isInteger(o)){if(humans_number.textContent>=m){t=l;human.textContent=`残り:${t}turn`,future1()}else human.textContent=`残り:${t}turn`,future1();human.textContent=`残り:${t}turn`}}document.getElementById("zanki").textContent=t}function future1(){var e=number_number.textContent;bgm1.play(),document.getElementById("listed").textContent=lists.textContent;var t="0";t=Lank(10*number_number.textContent+Math.floor(4e-4*timer_sec.textContent)+10*humans_number.textContent,t),humans_number.textContent>1?confirm(`GAMEOVER\nあなたは答えを間違えた。\n残り残機 ${humans_number.textContent}\n残機を消耗して一つ前に戻しますか？、またははじめから再挑戦しますか？\n戻る=OK 再挑戦する=キャンセル`)?(humans_number.textContent--,color(),korokke.textContent=Suuzicopy.textContent):(e>Number(localStorage.test)?(alert(`記録 LEVEL: ${number_number.textContent}\n最高記録更新！！ ${localStorage.test} → ${e}\nLank: ${t}\nこの問題の答え  ${listed.textContent}`),localStorage.test=e,localStorage.test<=99?document.getElementById("test").textContent=`BESTLEVEL: ${localStorage.test}`:document.getElementById("test").textContent="BESTLEVEL:+99"):alert(`記録 LEVEL: ${number_number.textContent}\nLank: ${t}\nこの問題の答え  ${listed.textContent}`),p2()):(e>Number(localStorage.test)&&(localStorage.test=e,localStorage.test<=99?document.getElementById("test").textContent=`BESTLEVEL: ${localStorage.test}`:document.getElementById("test").textContent="BESTLEVEL:+99"),alert(`GAMEOVER\nあなたは答えを間違えた。\n記録 LEVEL:${number_number.textContent} Lank:${t}\nこの問題の答え  ${listed.textContent} \nもう残機がありません、はじめから再挑戦しますか?`),p2())}function future2(){var e=number_number.textContent;document.getElementById("listed").textContent=lists.textContent,bgm1.play();var t="0";t=Lank(10*number_number.textContent+Math.floor(4e-4*timer_sec.textContent)+10*humans_number.textContent,t),e>Number(localStorage.test)?(alert(`GAMEOVER 時間切れ\n記録 LEVEL: ${number_number.textContent} Lank: ${t}\n最高記録更新！！ ${localStorage.test} → ${e}\nこの問題の答え  ${listed.textContent}\n再挑戦しますか`),localStorage.test=e,localStorage.test<=99?document.getElementById("test").textContent=`BESTLEVEL: ${localStorage.test}`:document.getElementById("test").textContent="BESTLEVEL:+99"):alert(`GAMEOVER 時間切れ\n\t\t\n記録 LEVEL: ${number_number.textContent} Lank: ${t}\n\t\t\nこの問題の答え  ${listed.textContent}\n\t\t\n再挑戦しますか`),p2()}function Lank(e,t){return e<0?t="ERROR":e>=0&&e<=150?t="E":e>150&&e<=200?t="D":e>200&&e<=250?t="C":e>250&&e<=275?t="B":e>275&&e<=300?t="A":e>300&&e<=350?t="S":e>350&&e<=450?(t="S+",localStorage.Play=1):e>450&&(t="Master   you are Master to This Game!!",localStorage.Play=1),t}function color(){1==localStorage.HERD?(humans_max.style.color="hsl(51, 94%, 52%)",humans_maxs.style.color="hsl(51, 94%, 52%)"):(humans_max.style.color="rgb(95, 207, 128)",humans_maxs.style.color="rgb(95, 207, 128)"),humans_number.textContent>=5?humans_number.style.color="rgb(95, 207, 128)":humans_number.textContent<=4&&humans_number.textContent>=2?humans_number.style.color="hsl(51, 94%, 52%)":humans_number.textContent<=1&&(humans_number.style.color="red")}$("#buttonid1,#buttonid2,#buttonid3,#buttonid4,#buttonid5,#p1,#reset").on("click",function(){1==started.textContent&&(g(),this.style.backgroundColor="#999")}),document.addEventListener("keydown",keypress_ivent);
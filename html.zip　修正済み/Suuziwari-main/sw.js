var CACHE_VERSION="ca-v1",DISP_VERSION="ca-d-v1",resources=["/","/img"];self.addEventListener("install",function(e){console.log("ServiceWorker Install"),e.waitUntil(caches.open(CACHE_VERSION).then(function(e){console.log("cache.addAll"),e.addAll(resources)}))}),self.addEventListener("fetch",function(e){console.log("ServiceWorker fetch"),e.respondWith(caches.match(e.request).then(function(n){return n||fetch(e.request).then(function(n){return caches.open(DISP_VERSION).then(function(t){return console.log("cache.put"),t.put(e.request.url,n.clone()),n})}).catch(function(){})}))}),self.addEventListener("activate",function(e){return console.log("activate ServiceWorker"),e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(e){if(e!==CACHE_VERSION&&e!==DISP_VERSION)return console.log("cache.delete"),caches.delete(e)}))})),self.clients.claim()});
